/*
 * Author: Chloe Kaian Lam - @ChloeKaianLam
 * Email: hello@chloekaianlam.com
 */(function(e){function s(){t.on("click",function(e){var t=$(this);$("html, body").stop().animate({scrollTop:$(t.data("page")).offset().top},1500,"easeInOutExpo");$("html, body").stop().animate({scrollTop:$(t.data("page")).offset().top},1e3);e.preventDefault()})}function o(){n.on("submit",function(e){e.preventDefault();var t=$("input[name=name]").val(),n=$("input[name=email]").val(),r=$("textarea[name=message]").val(),i=$(this).serialize(),s=/^([_a-zA-Z0-9-]+)(\.[_a-zA-Z0-9-]+)*@([a-zA-Z0-9-]+\.)+([a-zA-Z]{2,3})$/,o=!1;if(t!="")$("[name=name]").removeClass("error");else{$("[name=name]").addClass("error");o=!0}if(n!=""&&s.test(n))$("[name=email]").removeClass("error");else{$("[name=email]").addClass("error");o=!0}if(r!="")$("[name=message]").removeClass("error");else{$("[name=message]").addClass("error");o=!0}o===!1&&u(i);console.log(i)})}function u(e){$(".loader").fadeIn("slow");$.post("send.php",e,function(e){$(".loader").fadeOut("slow");n.addClass("fadeOutDown hide");e==="ok"&&$(".thanks").addClass("show bounceInUp");e==="failed"&&$(".sorry").addClass("show bounceInUp")})}function a(){$.getJSON("../assets/json/data.json",function(e){var t=$(".project-details"),n=$(".projects");$.get("../assets/template/project-thumbs.html",function(t){var r=Mustache.to_html(unescape(t),e);n.html(r)});$.get("../assets/template/project-list.html",function(n){var r=Mustache.to_html(unescape(n),e);t.html(r)}).always(function(){$(".project-item").on("click",function(){var e=$(this).data("project");$("html, body").animate({scrollTop:0},800,"easeInOutExpo");console.log(e);r.addClass("active fadeInUpBig");$("#"+e).addClass("show");return!1});i.on("click",function(){r.removeClass("active fadeInUpBig");$(".item").removeClass("show");return!1})})}).fail(function(e,t,n){console.log("ERROR: "+t+", "+n)})}var t=$(".nav, .close"),n=$("#contact-form"),r=$(".popup"),i=$(".close");s();o();a();$(document).ready(function(){var t=document.documentElement;t.setAttribute("data-useragent",e.userAgent);t.setAttribute("data-platform",e.platform)})})(Site);